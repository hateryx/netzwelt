{% extends "layout.html" %}

{% block title %}
{% endblock %}

{% block main %}
  <h2 class="font-semibold text-lg text-blue-700">Welcome, {{ user }}</h2>
  <a href="/logout">Logout</a>
  {{ error }}

  <div class="mx-10 my-8 font-semibold text-lg">List of Territories</div>

  <div class="ml-10 flex flex-row">
    <div id="test" class="block ml-10">
      {% set territories = territories %}
      {% macro render_tree(territories) -%}
        {% for key, value in territories.items() %}
          <div class="ml-5" id="parent-{{key}}">{{ key }}</div>
          {% if value %}
            <div class="ml-10" id="child-{{key}}">
              {{ render_tree(value) }}
            </div>
          {% endif %}
        {% endfor %}
      {%- endmacro %}
      {{ render_tree(territories) }}
    </div>
  </div>

{% endblock %}

</html>
